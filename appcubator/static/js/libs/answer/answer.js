// Generated by IlterScript
(function() {
  this.answer = (function() {

    function answer() {
      this.stem = natural.PorterStemmer.tokenizeAndStem;
      this.sentences = [];
      this.stemmedSentences = [];
    }

    answer.prototype.read = function(article, directory, title) {
      this.sentences.push({ article: article, dir: directory, title: title, score: 0});
    };

    answer.prototype.match = function(sentence) {
      var stemmed = this.stem(sentence);
      var results = _.clone(this.sentences);

      _(stemmed).each(function(stem) {
        _(results).each(function(article) {
          if(article.article.indexOf(stem) > -1) {
            article.score++;
          }
        });
      });

      results = _.filter(results, function(result) { return result.score > 0; });
      return results;
    };

    return answer;

  })();

}).call(this);
